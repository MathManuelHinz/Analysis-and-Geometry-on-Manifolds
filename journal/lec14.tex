Proof of Sard's theorem using three intermediate lemmas